

*********************************************
 このアドオンの開発は終了しています。
 後継のmmd_toolsを使用してください。

mmd_tools

https://github.com/sugiany/blender_mmd_tools

*********************************************





[アドオン名]
io_import_vmd

[バージョン]
0.1.3

[作者]
sugiany

[概要]
blender 2.62用のvmdファイルのimport addonです。
vmdファイルの各ボーン・ShapeKey・カメラのモーションデータをインポートします。
モーションのアサイン先モデルはblender2pmxアドオンでインポートしたモデルであることを
前提としています。(ボーンの命名規則など)

[注意]
ボーン名のマッピングをblender2pmx addonの名前変換規則に従って行っています。
blender2pmx以外のaddonでインポートしたモデルは正常にモーションが適用できない可能性
があります。また、カメラはMMD_Cameraという名前のEmptyオブジェクトを生成し、このオブ
ジェクトにモーションをアサインします。

カメラのレンズ情報はインポート時のsensor_heightの値を元に計算しています。
インポート後にこの値を変更すると画角が変わるので注意してください。
(カメラの設定をさわらなければ、MMDのレンダリング結果とほぼ一致するはずです。)
インポート後にレンダリング解像度を変えても画角に影響はありません。

[動作確認環境]
Windows 7 64bit
Blender 2.62 64bit
※2.60では動作しませんでした。

[使用方法]
(1) io_import_cmd.pyをblenderのaddonディレクトリにコピーしてください。
(2) User PreferenceのAddonsから"Import-Export: Import Vocaloid Motion Data file (.vmd)"を探してチェックを入れてください。
(3) あらかじめ"blender2pmx"addonで読み込んでおいたモデルのMeshとArmature、Cameraを選択してください。(選択していない項目はインポートされません)
(4) MenuのFileから「Import -> Vocaloid Motion Data file (.vmd)」を選択してください。
(5) ファイル選択画面でvmdファイルを選択すると選択中のオブジェクトにモーションがインポートされます。

[その他・制限など]
・カメラとキャラクタモーションが別ファイルの場合は、ArmatureとMeshを選択してキャラモーション、
  Cameraを選択してカメラモーションというように2回に分けてインポートしてください。
・現在はblender上のボーン名とvmdファイル内のボーン名の対応を自由に設定できません。(できれば対応したいです。)
・ボーン名のマッピングルールは次の通りです。
「左○○」→「○○_L」
「右○○」→「○○_R」

・補間情報は未対応
・ライトモーション未対応
・その他もろもろ未対応

[変更履歴]
v0.1.3
・一定の長さを超えるモデル名またはボーン名を含むvmdファイルのインポートに失敗する不具合を修正

v0.1.2
・カメラの画角情報を正しくインポートできない不具合を修正
・カメラの注視点の座標値が正しくインポートできない不具合を修正

v0.1.1
・ファイル選択画面にインポート対象を選択するチェックボックスを追加
・インポートしたモーションを新規Actionとして読み込むよう修正